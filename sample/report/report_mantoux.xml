<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="report_mantoux">
            <t t-call="report.html_container">
                <t t-call="legh.external_layout_pathology">
                    <t t-foreach="docs" t-as="o">
                        <div class="page">

                            <!-- Department Header -->
                            <h3 style="text-align: center; margin-top: 25px; padding-top: 10px; 
                                       font-size: 20px; color: #1a1a1a; text-transform: uppercase;">
                                <span t-field="o.department_id.name"/>
                            </h3>

                            <!-- Report Table -->
                            <table style="width: 85%; margin: 25px auto; border-collapse: collapse; 
                                          font-family: 'Helvetica', sans-serif; font-size: 15px; 
                                          box-shadow: 0 0 6px rgba(0,0,0,0.15); border-radius: 8px; overflow: hidden;">
                                <thead>
                                    <tr style="background-color: #e8f0fe; border-bottom: 2px solid #1a73e8;">
                                        <th style="border-right: 1px solid #ccc; text-align: left; padding: 10px 12px; 
                                                   font-weight: bold; color: #1a1a1a;">Test Name</th>
                                        <th style="text-align: left; padding: 10px 12px; font-weight: bold; color: #1a1a1a;">Result</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="o.sticker_line_id" t-as="z">
                                        <tr style="border-bottom: 1px solid #ddd;">
                                            <td style="padding: 8px 12px;">
                                                <t t-if="z.bold==True">
                                                    <strong><span t-field="z.test_name"/></strong>
                                                </t>
                                                <t t-if="not z.bold">
                                                    <span t-field="z.test_name"/>
                                                </t>
                                            </td>
                                            <td style="padding: 8px 12px;">
                                                <t t-if="z.test_name=='Dose of Injection' and not z.result">
                                                    PPD 0.1 ml = 10 TU
                                                </t>
                                                <t t-else="">
                                                    <span t-field="z.result"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>

                            <!-- Comments Section -->
                            <div style="width: 85%; margin: 20px auto; font-size: 15px; 
                                        line-height: 1.6; color: #333; font-family: 'Helvetica', sans-serif;">
                                <t t-if="o.comments_sc_date">
                                    <p>
                                        <strong>Comments:</strong>
                                        Schedule date of observation <span t-field="o.comments_sc_date"/> but the patient reported on <span t-field="o.comments_rp_date"/>.
                                    </p>
                                </t>

                                <t t-if="o.advice">
                                    <p><strong>Advice:</strong> <span t-field="o.advice"/></p>
                                </t>
                            </div>

                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</openerp>
